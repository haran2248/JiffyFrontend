plugins {
    id "com.android.application"
    id "kotlin-android"
    id "dev.flutter.flutter-gradle-plugin"
    id "com.google.gms.google-services"
}

android {
    namespace = "com.jiffydating.app"
    compileSdk = 36
    ndkVersion = "28.0.13004108"

    compileOptions {
        coreLibraryDesugaringEnabled true
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_1_8
    }

    defaultConfig {
        applicationId = "com.jiffydating.app"
        minSdk = flutter.minSdkVersion
        targetSdk = 35
        versionCode = 41
        versionName = "1.0.41"
        multiDexEnabled true
    }

    packaging {
        jniLibs {
            useLegacyPackaging false
        }
    }

    signingConfigs {
        release {
            def keyProperties = new Properties()
            def keyFile = file('D:/Everything swish/SwishFrontend/SwishFrontend/key.properties')
            if (keyFile.exists()) {
                keyProperties.load(new FileInputStream(keyFile))
                storeFile file(keyProperties['storeFile'])
                storePassword keyProperties['storePassword']
                keyAlias keyProperties['keyAlias']
                keyPassword keyProperties['keyPassword']
            } else {
                throw new RuntimeException("No key properties file provided!")
            }
        }
    }

    buildTypes {
        release {
            signingConfig signingConfigs.release
            minifyEnabled false
            shrinkResources false
        }
    }
}

flutter {
    source = "../.."
}

dependencies {
    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.1.4'
}

